<LoadingOverlay
  :class="[showLoading ? 'block' : 'hidden']"
  :message="loadingMessages.join('\n')"
/>

<div class="container mx-auto center">
  <main class="grid grid-cols-3 gap-4">
    <section>
      <ColHeader title="Taxonomy" />
      <Taxonomy
        class="grid-content"
        :rootNodes="rootNodes"
        :selectedNode="selectedNode"
        @select="selectNode($event)"
        @createNode="showCreateRootNode"
      />
    </section>

    <section>
      <!-- New Node -->
      <ColHeader title="Node Details" />

      <template v-if="!creatingNewNode && !selectedNode">
        <p>Please select a symptom from the taxonomy.</p>
      </template>

      <template v-if="creatingNewNode">
        <h1>New Node</h1>
        <NewNode class="grid-content" @createNode="createNode($event)" />
      </template>

      <!-- Node Details -->

      <template v-if="!creatingNewNode && selectedNode">
        <h1>Node Details</h1>
        <NodeDetails
          class="grid-content"
          :node="selectedNode"
          @createEntity="createEntity($event)"
          @deleteEntity="deleteEntity($event)"
          @createNode="showCreateNode"
          @deleteNode="deleteNode($event)"
        />
      </template>
    </section>

    <section>
      <template v-if="selectedNode">
        <ColHeader title="Already Matched Texts" />
        <Matches class="grid-content" :node="selectedNode" />
      </template>
    </section>
  </main>
</div>

<main></main>
