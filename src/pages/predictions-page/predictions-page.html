<div class="container mx-auto center">
  <main class="grid grid-cols-3 gap-4">
    <section>
      <ColHeader title="Related Symptoms" />

      <ul>
        <TreeItem
          v-if="root"
          :node="root"
          :selectedNode="node"
          :selectable="false"
        />
      </ul>
    </section>

    <section>
      <ColHeader :title="(!predictions) ? 'Synonym Predictions' : `${predictions.totalSynonyms} Synonym Predictions`" />

      <div v-if="!predictions">Loading...</div>

      <PredictionCard
        v-if="predictions"
        v-for="index of Math.min(predictions.synonyms.length, limit)"
        :key="predictions.synonyms[index].pid"
        relation="synonym"
        :node="node"
        :nodes="nodes"
        :prediction="predictions.synonyms[index]"
        @dismiss="dismiss(predictions.synonyms[index], index, 'synonym')"
        @annotate="(annotation) => annotate(predictions.synonyms[index], annotation, 'synonym')"
      />
    </section>

    <section>
      <ColHeader :title="(!predictions) ? 'Child Predictions' : `${predictions.totalChildren} Child Predictions`" />

      <div v-if="!predictions">Loading...</div>

      <PredictionCard
        v-if="predictions"
        v-for="index of Math.min(predictions.children.length, limit)"
        :key="predictions.children[index].pid"
        relation="parent"
        :node="node"
        :nodes="nodes"
        :prediction="predictions.children[index]"
        @dismiss="dismiss(predictions.children[index], index, 'children')"
        @annotate="(annotation) => annotate(predictions.synonyms[index], annotation, 'parent')"
      />
    </section>
  </main>
</div>
